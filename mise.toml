[tools]
ctlptl = "0.8.43"
helm = "3.18.6"
kind = "0.30.0"
kubectl = "1.34.0"
tilt = "0.35.1"

[tasks."local:cluster:up"]
description = "Create the local Kind cluster with registry"
run = "ctlptl apply -f local/clusters.yaml"

[tasks."local:cluster:down"]
description = "Delete the local Kind cluster"
run = "ctlptl delete -f local/clusters.yaml"

[tasks."local:up"]
description = "Start the local development environment"
depends = ["local:cluster:up"]
run = "tilt up --file local/Tiltfile"

[tasks."local:ci"]
description = "Run Tilt in CI mode for validation"
depends = ["local:cluster:up"]
run = "tilt ci --file local/Tiltfile"

